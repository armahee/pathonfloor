<!DOCTYPE html>
<html>
<head>
	<title>AR Mahee Project</title>
	<style type="text/css">
		body {
			background-color: #000;
			margin: 0px;
		}
		#header {
			width: 100%;
		}
		#flr {
			width: 100%;
		}
		#srm {
			margin-left: 1%;
			width: 49%;
		}
		#erm {
			width: 49%;
		}
		#imgLoader {
			width: 500px;
		}
		.door {
			position: absolute;
			border-radius: 5px;
			background: red;
			width: 0px;
			height: 0px;
		}
		#rm7 {
			width: 5px;
			height: 5px;
			top: 527px;
			left: 270px;
		}
		#rm10 {
			width: 5px;
			height: 5px;
			top: 527px;
			left: 295px;
		}
		#rm18 {
			width: 5px;
			height: 5px;
			top: 527px;
			left: 430px;
		}

	</style>
</head>
<body>
<div id='header'>
	<select id='flr'><option selected="">0</option></select>
	<select id='erm'>
		<option value="rm18">18</option>
	</select>
	<select id='srm' onchange="startRoom()">
		<option value=""></option>
		<option value="rm7">7</option>
		<option value="rm10">10</option>
	</select>
</div>
<div id='bdy'>
	<div class="door" id="rm7"></div>
	<div class="door" id="rm10"></div>
	<div class="door" id="rm18"></div>
	<img id="imgLoader" position="absolute"  src="0.jpg">
</div>
<script type="text/javascript">
	//document.getElementById("srm").addEventListener("change",startRoom,false);
	function sleep(ms) {
	  return new Promise(resolve => setTimeout(resolve, ms));
	}
	console.log('working');
	document.getElementById("rm7").style.width = "0px";
	document.getElementById("rm10").style.width = "0px";
	document.getElementById("rm18").style.width = "0px";
	var flg = 1;
	async function startRoom() {
		if(flg){
			document.getElementById('srm').remove(0);
			flg = 0;
		}
		document.getElementById("rm7").style.width = "0px";
		document.getElementById("rm10").style.width = "0px";
		//console.log('ar: '+document.getElementById(document.getElementById('srm').value).style.width);
		var i;
		var lim;
		if(document.getElementById('srm').value == "rm7"){
			lim = 170;
		}
		else{
			lim = 145;
		}
		for(i=1;i<lim;i++){
			document.getElementById(document.getElementById('srm').value).style.width = i.toString()+"px";
			await sleep(5);
		}
	}
</script>

</body>
</html>
